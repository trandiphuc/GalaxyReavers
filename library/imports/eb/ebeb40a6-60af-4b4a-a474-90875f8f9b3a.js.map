{"version":3,"sources":["../../../../../assets/Script/Actor/assets/Script/Actor/Enemy.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","maxHitPoint","_hitPoint","onLoad","onCollisionEnter","other","self","node","group","getComponent","damage","die","instance","emit","destroy","update","dt"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa,CADL;AAERC,mBAAW;AAFH,KAHP;;AAQL;;AAEAC,UAVK,oBAUI;AACL,aAAKD,SAAL,GAAiB,KAAKD,WAAtB;AACH,KAZI;AAcLG,oBAdK,4BAcYC,KAdZ,EAcmBC,IAdnB,EAcyB;AAC1B,YAAID,MAAME,IAAN,CAAWC,KAAX,KAAqB,eAAzB,EAA0C;AACtC,iBAAKN,SAAL,IAAkBG,MAAME,IAAN,CAAWE,YAAX,CAAwB,QAAxB,EAAkCC,MAApD;AACH;AACJ,KAlBI;AAoBLC,OApBK,iBAoBC;AACF,YAAG,KAAKT,SAAL,IAAkB,CAArB,EAAwB;AACpBR,oBAAQkB,QAAR,CAAiBC,IAAjB,CAAsB,eAAtB;AACA,iBAAKN,IAAL,CAAUO,OAAV;AACH;AACJ,KAzBI;AA2BLC,UA3BK,kBA2BEC,EA3BF,EA2BM;AACP,aAAKL,GAAL;AACH;AA7BI,CAAT","file":"Enemy.js","sourceRoot":"../../../../../assets/Script/Actor","sourcesContent":["const Emitter = require('Emitter');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        maxHitPoint: 0,\n        _hitPoint: 0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this._hitPoint = this.maxHitPoint;\n    },\n\n    onCollisionEnter(other, self) {\n        if (other.node.group === 'player_bullet') {\n            this._hitPoint -= other.node.getComponent('Bullet').damage;\n        }\n    },\n\n    die() {\n        if(this._hitPoint <= 0) {\n            Emitter.instance.emit('enemy_destroy');\n            this.node.destroy();\n        }\n    },\n\n    update(dt) {\n        this.die();\n    },\n});\n"]}