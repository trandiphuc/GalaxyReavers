{"version":3,"sources":["../../../../../assets/Script/Actor/assets/Script/Actor/Weapon.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","bulletsPool","Node","bullet","default","type","Prefab","interval","start","onEnable","schedule","fire","onDisable","unschedule","bulletPos","node","convertToWorldSpaceAR","Vec2","ZERO","subSelf","v2","instance","emit"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAaL,GAAGM,IADR;AAERC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMT,GAAGU;AAFL,SAFA;AAMRC,kBAAU;AANF,KAHP;;AAYLC,SAZK,mBAYG,CAAE,CAZL;AAcLC,YAdK,sBAcM;AACP,aAAKC,QAAL,CAAc,KAAKC,IAAnB,EAAyB,KAAKJ,QAA9B;AACH,KAhBI;AAkBLK,aAlBK,uBAkBO;AACR,aAAKC,UAAL,CAAgB,KAAKF,IAArB;AACH,KApBI;AAsBLA,QAtBK,kBAsBE;AACH,YAAIG,YAAY,KAAKC,IAAL,CAAUC,qBAAV,CAAgCpB,GAAGqB,IAAH,CAAQC,IAAxC,CAAhB;AACAJ,kBAAUK,OAAV,CAAkBvB,GAAGwB,EAAH,CAAM,GAAN,EAAW,GAAX,CAAlB;AACA1B,gBAAQ2B,QAAR,CAAiBC,IAAjB,CAAsB,MAAtB,EAA8B,KAAKnB,MAAnC,EAA2CW,SAA3C;AACH;;AAED;;AA5BK,CAAT","file":"Weapon.js","sourceRoot":"../../../../../assets/Script/Actor","sourcesContent":["const Emitter = require('Emitter');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bulletsPool: cc.Node,\n        bullet: {\n            default: null,\n            type: cc.Prefab\n        },\n        interval: 0.1\n    },\n\n    start() {},\n\n    onEnable() {\n        this.schedule(this.fire, this.interval);\n    },\n\n    onDisable() {\n        this.unschedule(this.fire);\n    },\n\n    fire() {\n        let bulletPos = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO);\n        bulletPos.subSelf(cc.v2(360, 640));\n        Emitter.instance.emit('fire', this.bullet, bulletPos);\n    }\n\n    // update (dt) {},\n});"]}