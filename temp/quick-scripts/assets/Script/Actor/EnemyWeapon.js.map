{"version":3,"sources":["EnemyWeapon.js"],"names":["cc","Class","extends","Component","properties","bullet","default","type","Prefab","interval","start","onEnable","schedule","fire","onDisable","unschedule","getRandom","min","max","Math","random","bulletPos","node","convertToWorldSpaceAR","Vec2","add","bulletNode","instantiate","active","subSelf","Canvas","instance","position","parent"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL,SADA;AAKRC,kBAAU;AALF,KAHP;;AAWL;;AAEA;;AAEAC,SAfK,mBAeG,CAEP,CAjBI;AAmBLC,YAnBK,sBAmBM;AACP,aAAKC,QAAL,CAAc,KAAKC,IAAnB,EAAyB,KAAKJ,QAA9B;AACH,KArBI;AAuBLK,aAvBK,uBAuBO;AACR,aAAKC,UAAL,CAAgB,KAAKF,IAArB;AACH,KAzBI;AA0BLG,aA1BK,qBA0BKC,GA1BL,EA0BUC,GA1BV,EA0Be;AAChB,eAAOC,KAAKC,MAAL,MAAiBF,MAAMD,GAAvB,IAA8BA,GAArC;AACH,KA5BI;AA6BLJ,QA7BK,kBA6BE;AACH,YAAIQ,YAAY,KAAKC,IAAL,CAAUC,qBAAV,CAAgC,IAAIvB,GAAGwB,IAAP,CAAY,CAAZ,EAAe,CAAf,CAAhC,CAAhB;AACA,aAAKC,GAAL,CAASJ,SAAT;AACA,aAAKZ,QAAL,GAAgB,KAAKO,SAAL,CAAe,CAAf,EAAkB,EAAlB,CAAhB;AACH,KAjCI;AAmCLS,OAnCK,eAmCDJ,SAnCC,EAmCU;AACX,YAAIK,aAAa1B,GAAG2B,WAAH,CAAe,KAAKtB,MAApB,CAAjB;AACAqB,mBAAWE,MAAX,GAAoB,IAApB;AACAP,kBAAUQ,OAAV,CAAkB7B,GAAG8B,MAAH,CAAUC,QAAV,CAAmBT,IAAnB,CAAwBU,QAA1C;AACAN,mBAAWM,QAAX,GAAsBX,SAAtB;AACAK,mBAAWO,MAAX,GAAoBjC,GAAG8B,MAAH,CAAUC,QAAV,CAAmBT,IAAvC;AACH;AAzCI;;AA2CL;AA3CJ","file":"EnemyWeapon.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Actor","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bullet: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        interval: 2\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    onEnable() {\r\n        this.schedule(this.fire, this.interval);\r\n    },\r\n\r\n    onDisable() {\r\n        this.unschedule(this.fire);\r\n    },\r\n    getRandom(min, max) {\r\n        return Math.random() * (max - min) + min;\r\n    },\r\n    fire() {\r\n        let bulletPos = this.node.convertToWorldSpaceAR(new cc.Vec2(0, 0));\r\n        this.add(bulletPos);\r\n        this.interval = this.getRandom(1, 20);\r\n    },\r\n\r\n    add(bulletPos) {\r\n        let bulletNode = cc.instantiate(this.bullet);\r\n        bulletNode.active = true;\r\n        bulletPos.subSelf(cc.Canvas.instance.node.position);\r\n        bulletNode.position = bulletPos;\r\n        bulletNode.parent = cc.Canvas.instance.node;\r\n    },\r\n\r\n    // update (dt) {},\r\n});"]}