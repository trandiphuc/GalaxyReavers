{"version":3,"sources":["EnemyWeapon.js"],"names":["cc","Class","extends","Component","properties","bullet","default","type","Prefab","interval","start","onEnable","schedule","fire","onDisable","unschedule","getRandom","min","max","Math","random","bulletPos","node","convertToWorldSpaceAR","Vec2","add","bulletNode","instantiate","active","subSelf","Canvas","instance","position","parent"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAQ;AACJC,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL,SADA;AAKRC,kBAAU;AALF,KAHP;;AAWL;;AAEA;;AAEAC,SAfK,mBAeG,CAEP,CAjBI;AAmBLC,YAnBK,sBAmBM;AACP,aAAKC,QAAL,CAAc,KAAKC,IAAnB,EAAyB,KAAKJ,QAA9B;AACH,KArBI;AAuBLK,aAvBK,uBAuBO;AACR,aAAKC,UAAL,CAAgB,KAAKF,IAArB;AACH,KAzBI;AA0BLG,aA1BK,qBA0BKC,GA1BL,EA0BUC,GA1BV,EA0Be;AAChB,eAAOC,KAAKC,MAAL,MAAiBF,MAAMD,GAAvB,IAA8BA,GAArC;AACH,KA5BI;AA6BLJ,QA7BK,kBA6BE;AACH,YAAIQ,YAAY,KAAKC,IAAL,CAAUC,qBAAV,CAAgC,IAAIvB,GAAGwB,IAAP,CAAY,CAAZ,EAAe,CAAf,CAAhC,CAAhB;AACA,aAAKC,GAAL,CAASJ,SAAT;AACA,aAAKZ,QAAL,GAAgB,KAAKO,SAAL,CAAe,CAAf,EAAkB,EAAlB,CAAhB;AACH,KAjCI;AAmCLS,OAnCK,eAmCDJ,SAnCC,EAmCU;AACX,YAAIK,aAAa1B,GAAG2B,WAAH,CAAe,KAAKtB,MAApB,CAAjB;AACAqB,mBAAWE,MAAX,GAAoB,IAApB;AACAP,kBAAUQ,OAAV,CAAkB7B,GAAG8B,MAAH,CAAUC,QAAV,CAAmBT,IAAnB,CAAwBU,QAA1C;AACAN,mBAAWM,QAAX,GAAsBX,SAAtB;AACAK,mBAAWO,MAAX,GAAoBjC,GAAG8B,MAAH,CAAUC,QAAV,CAAmBT,IAAvC;AACH;AAzCI;;AA2CL;AA3CJ","file":"EnemyWeapon.js","sourceRoot":"../../../../../assets/Script/Actor","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bullet: {\n            default: null,\n            type: cc.Prefab\n        },\n        interval: 2\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n\n    },\n\n    onEnable() {\n        this.schedule(this.fire, this.interval);\n    },\n\n    onDisable() {\n        this.unschedule(this.fire);\n    },\n    getRandom(min, max) {\n        return Math.random() * (max - min) + min;\n    },\n    fire() {\n        let bulletPos = this.node.convertToWorldSpaceAR(new cc.Vec2(0, 0));\n        this.add(bulletPos);\n        this.interval = this.getRandom(1, 20);\n    },\n\n    add(bulletPos) {\n        let bulletNode = cc.instantiate(this.bullet);\n        bulletNode.active = true;\n        bulletPos.subSelf(cc.Canvas.instance.node.position);\n        bulletNode.position = bulletPos;\n        bulletNode.parent = cc.Canvas.instance.node;\n    },\n\n    // update (dt) {},\n});"]}